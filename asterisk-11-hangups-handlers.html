<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />


  <title>Asterisk 11 hangups handlers</title>


  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="referrer" content="origin" />
  <meta name="generator" content="Pelican" />
  <link href="https://acalustra.com/" rel="canonical" />

  <!-- Feed -->
        <link href="https://acalustra.com/rss.xml" type="application/atom+xml" rel="alternate" title="A Calustra Full Atom Feed" />

  <link href="https://acalustra.com/theme/css/style.css" type="text/css" rel="stylesheet" />

  <!-- Code highlight color scheme -->
      <link href="https://acalustra.com/theme/css/code_blocks/monokai.css" rel="stylesheet">


  <!-- Custom fonts -->
  <link href='https://fonts.googleapis.com/css?family=Montserrat:400,300' rel='stylesheet' type='text/css' />
  <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css" />

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->


  <link href="https://acalustra.com/asterisk-11-hangups-handlers.html" rel="canonical" />
  <meta name="keywords" content="asterisk, subroutines, gosub, hangup" >

    <meta name="description" content="I don't know what I was doing when I read Asterisk 11 new features. Last week I read in the asterisk mailing list about hangup handlers....">

    <meta name="author" content="eloycoto">

    <meta name="tags" content="asterisk">
    <meta name="tags" content="dialplan">
    <meta name="tags" content="ari">
    <meta name="tags" content="hangup">




<!-- Open Graph -->
<meta property="og:site_name" content="A Calustra"/>
<meta property="og:title" content="Asterisk 11 hangups handlers"/>
<meta property="og:description" content="I don't know what I was doing when I read Asterisk 11 new features. Last week I read in the asterisk mailing list about hangup handlers...."/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="https://acalustra.com/asterisk-11-hangups-handlers.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2014-10-22 16:00:00+02:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="https://acalustra.com/author/eloycoto.html">
<meta property="article:section" content="blog"/>
<meta property="article:tag" content="asterisk"/>
<meta property="article:tag" content="dialplan"/>
<meta property="article:tag" content="ari"/>
<meta property="article:tag" content="hangup"/>
<meta property="og:image" content="https://acalustra.com/img/oia.jpg">

<!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@eloycoto">
    <meta name="twitter:title" content="Asterisk 11 hangups handlers">
    <meta name="twitter:url" content="https://acalustra.com/asterisk-11-hangups-handlers.html">

        <meta name="twitter:image:src" content="https://acalustra.com/img/oia.jpg">

      <meta name="twitter:description" content="I don't know what I was doing when I read Asterisk 11 new features. Last week I read in the asterisk mailing list about hangup handlers....">

<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "name": "Asterisk 11 hangups handlers",
  "headline": "Asterisk 11 hangups handlers",
  "datePublished": "2014-10-22 16:00:00+02:00",
  "dateModified": "",
  "author": {
    "@type": "Person",
    "name": "eloycoto",
    "url": "https://acalustra.com/author/eloycoto.html"
  },
  "image": "https://acalustra.com/img/oia.jpg",
  "url": "https://acalustra.com/asterisk-11-hangups-handlers.html",
  "description": "I don't know what I was doing when I read Asterisk 11 new features. Last week I read in the asterisk mailing list about hangup handlers...."
}
</script>
</head>
<!-- TODO : Body class -->
<body class="home-template">

<nav id="menu">
  <a class="close-button">Close</a>
  <div class="nav-wrapper">
    <p class="nav-label">Menu</p>
    <ul>

              <li role="presentation"><a href="https://acalustra.com/pages/about.html">About</a></li>

    </ul>
  </div>
</nav>
    <!-- Progressbar -->
    <div class="progress-container">
        <span class="progress-bar"></span>
    </div>

    <!-- Page Header -->
    <!-- Set your background image for this header on the line below. -->
    <header id="post-header" class="has-cover">
      <div class="inner">
        <nav id="navigation">
            <span id="home-button" class="nav-button">
                <a class="home-button" href="https://acalustra.com/" title="Home"><i class="ic ic-arrow-left"></i> Home</a>
            </span>
          <span id="menu-button" class="nav-button">
            <a class="menu-button"><i class="ic ic-menu"></i> Menu</a>
          </span>
        </nav>
        <h1 class="post-title">Asterisk 11 hangups handlers</h1>
        <!-- TODO : Proper class for headline -->
        <span class="post-meta">
                <a href="https://acalustra.com/author/eloycoto.html">Eloy Coto</a>
            | <time datetime="Wednesday 22-10-2014">Wednesday 22-10-2014</time>
        </span>
        <!-- TODO : Modified check -->
            <div class="post-cover cover" style="background-image: url('https://acalustra.com/img/oia.jpg')">
      </div>
    </header>

  <section id="wrapper">
    <a class="hidden-close"></a>

    <!-- Post content -->
    <main class="content" role="main">
        <article class="post">
        <div class="inner">
            <section class="post-content">
                <p>I don't know what I was doing when I read <strong>Asterisk 11 new features</strong>. Last week I read in the asterisk <a class="reference external" href="http://lists.digium.com/pipermail/asterisk-users/2014-October/284839.html">mailing list about hangup handlers.</a></p>
<p>One of the pains in large apps based on asterisk are hangups. If one customer hangups in the middle of one subroutine, you need to add h exten in all subroutines. This make the code difficult to maintain. This is a normal subroutine in asterisk application:</p>
<div class="highlight"><pre><span></span><span class="p">[</span><span class="n">from</span><span class="o">-</span><span class="n">outside</span><span class="p">]</span>
<span class="n">exten</span> <span class="o">=&gt;</span> <span class="n">_X</span><span class="p">.,</span><span class="mi">1</span><span class="p">,</span><span class="n">Noop</span><span class="p">(</span><span class="n">Call</span> <span class="n">from</span> <span class="n">outside</span> <span class="n">with</span> <span class="n">callerid</span><span class="o">=</span><span class="err">$</span><span class="p">{</span><span class="n">CALLERID</span><span class="p">(</span><span class="n">num</span><span class="p">)})</span>
<span class="n">same</span> <span class="o">=&gt;</span> <span class="n">n</span><span class="p">,</span><span class="n">Gosub</span><span class="p">(</span><span class="n">monkeys</span><span class="p">,</span><span class="err">$</span><span class="p">{</span><span class="n">EXTEN</span><span class="p">},</span><span class="mi">1</span><span class="p">)</span>

<span class="n">exten</span> <span class="o">=&gt;</span> <span class="n">h</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">Noop</span><span class="p">(</span><span class="s">&quot;Hangup in from-outside context&quot;</span><span class="p">)</span>

<span class="p">[</span><span class="n">monkeys</span><span class="p">]</span>
<span class="n">exten</span> <span class="o">=&gt;</span> <span class="n">_X</span><span class="p">.,</span><span class="mi">1</span><span class="p">,</span><span class="n">Noop</span><span class="p">(</span><span class="n">Subroutine</span> <span class="n">Monkeys</span><span class="p">)</span>
<span class="n">same</span> <span class="o">=&gt;</span> <span class="n">n</span><span class="p">,</span><span class="n">While</span><span class="p">(</span><span class="mi">1</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span>
<span class="n">same</span> <span class="o">=&gt;</span> <span class="n">n</span><span class="p">,</span><span class="n">Playback</span><span class="p">(</span><span class="n">tt</span><span class="o">-</span><span class="n">monkeys</span><span class="p">)</span>
<span class="n">same</span> <span class="o">=&gt;</span> <span class="n">n</span><span class="p">,</span><span class="n">EndWhile</span><span class="p">()</span>

<span class="n">exten</span> <span class="o">=&gt;</span> <span class="n">h</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">Noop</span><span class="p">(</span><span class="s">&quot;Hangup into subrutine monkeys&quot;</span><span class="p">)</span>
</pre></div>
<div class="highlight"><pre><span></span><span class="o">--</span> <span class="n">Executing</span> <span class="p">[</span><span class="mi">100</span><span class="err">@</span><span class="n">from</span><span class="o">-</span><span class="nl">outside</span><span class="p">:</span><span class="mi">1</span><span class="p">]</span> <span class="n">NoOp</span><span class="p">(</span><span class="s">&quot;SIP/eloy-00000001&quot;</span><span class="p">,</span> <span class="s">&quot;Call from outside from eloy&quot;</span><span class="p">)</span> <span class="n">in</span> <span class="n">new</span> <span class="n">stack</span>
<span class="o">--</span> <span class="n">Executing</span> <span class="p">[</span><span class="mi">100</span><span class="err">@</span><span class="n">from</span><span class="o">-</span><span class="nl">outside</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span> <span class="n">Gosub</span><span class="p">(</span><span class="s">&quot;SIP/eloy-00000001&quot;</span><span class="p">,</span> <span class="s">&quot;monkeys,100,1&quot;</span><span class="p">)</span> <span class="n">in</span> <span class="n">new</span> <span class="n">stack</span>
<span class="o">--</span> <span class="n">Executing</span> <span class="p">[</span><span class="mi">100</span><span class="err">@</span><span class="nl">monkeys</span><span class="p">:</span><span class="mi">1</span><span class="p">]</span> <span class="n">NoOp</span><span class="p">(</span><span class="s">&quot;SIP/eloy-00000001&quot;</span><span class="p">,</span> <span class="s">&quot;Subroutine Monkeys&quot;</span><span class="p">)</span> <span class="n">in</span> <span class="n">new</span> <span class="n">stack</span>
<span class="o">--</span> <span class="n">Executing</span> <span class="p">[</span><span class="mi">100</span><span class="err">@</span><span class="nl">monkeys</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span> <span class="n">While</span><span class="p">(</span><span class="s">&quot;SIP/eloy-00000001&quot;</span><span class="p">,</span> <span class="s">&quot;1&gt;0&quot;</span><span class="p">)</span> <span class="n">in</span> <span class="n">new</span> <span class="n">stack</span>
<span class="o">--</span> <span class="n">Executing</span> <span class="p">[</span><span class="mi">100</span><span class="err">@</span><span class="nl">monkeys</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span> <span class="n">Playback</span><span class="p">(</span><span class="s">&quot;SIP/eloy-00000001&quot;</span><span class="p">,</span> <span class="s">&quot;tt-monkeys&quot;</span><span class="p">)</span> <span class="n">in</span> <span class="n">new</span> <span class="n">stack</span>
<span class="o">--</span> <span class="o">&lt;</span><span class="n">SIP</span><span class="o">/</span><span class="n">eloy</span><span class="o">-</span><span class="mo">00000001</span><span class="o">&gt;</span> <span class="n">Playing</span> <span class="err">&#39;</span><span class="n">tt</span><span class="o">-</span><span class="n">monkeys</span><span class="p">.</span><span class="n">gsm</span><span class="err">&#39;</span> <span class="p">(</span><span class="n">language</span> <span class="err">&#39;</span><span class="n">en</span><span class="err">&#39;</span><span class="p">)</span>
<span class="o">==</span> <span class="n">Spawn</span> <span class="n">extension</span> <span class="p">(</span><span class="n">monkeys</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="n">exited</span> <span class="n">non</span><span class="o">-</span><span class="n">zero</span> <span class="n">on</span> <span class="err">&#39;</span><span class="n">SIP</span><span class="o">/</span><span class="n">eloy</span><span class="o">-</span><span class="mo">00000001</span><span class="err">&#39;</span>
<span class="o">--</span> <span class="n">Executing</span> <span class="p">[</span><span class="n">h</span><span class="err">@</span><span class="nl">monkeys</span><span class="p">:</span><span class="mi">1</span><span class="p">]</span> <span class="n">NoOp</span><span class="p">(</span><span class="s">&quot;SIP/eloy-00000001&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="n">Hangup</span> <span class="n">into</span> <span class="n">subrutine</span><span class="s">&quot;&quot;</span><span class="p">)</span> <span class="n">in</span> <span class="n">new</span> <span class="n">stack</span>
</pre></div>
<p>In this case, you should take care how to use asterisk hangup handlers into subroutines. You can't share subroutines between different logics if the hangup are different. In Asterisk 11 was added hangup handler options, and this, personally, is one of the best features added in asterisk.</p>
<p>You can add a simple new hangup handler adding a simple set in the context:</p>
<div class="highlight"><pre><span></span><span class="n">same</span> <span class="o">=&gt;</span> <span class="n">n</span><span class="p">,</span><span class="n">Set</span><span class="p">(</span><span class="n">CHANNEL</span><span class="p">(</span><span class="n">hangup_handler_push</span><span class="p">)</span><span class="o">=</span><span class="n">hangup</span><span class="o">-</span><span class="n">handler</span><span class="p">,</span><span class="err">$</span><span class="p">{</span><span class="n">EXTEN</span><span class="p">},</span><span class="mi">1</span><span class="p">(</span><span class="n">args</span><span class="p">))</span>
</pre></div>
<p>In this case, when user hangup, asterisk will use <strong>hangup-handler</strong> context, and no problems in the gosub.</p>
<div class="highlight"><pre><span></span><span class="p">[</span><span class="n">from</span><span class="o">-</span><span class="n">outside</span><span class="o">-</span><span class="n">hangup</span><span class="p">]</span>

<span class="n">exten</span> <span class="o">=&gt;</span> <span class="n">_X</span><span class="p">.,</span><span class="mi">1</span><span class="p">,</span><span class="n">Noop</span><span class="p">(</span><span class="n">Call</span> <span class="n">from</span> <span class="n">outside</span> <span class="n">from</span> <span class="err">$</span><span class="p">{</span><span class="n">CALLERID</span><span class="p">(</span><span class="n">num</span><span class="p">)})</span>
<span class="n">same</span> <span class="o">=&gt;</span> <span class="n">n</span><span class="p">,</span><span class="n">Set</span><span class="p">(</span><span class="n">CHANNEL</span><span class="p">(</span><span class="n">hangup_handler_push</span><span class="p">)</span><span class="o">=</span><span class="n">hangup</span><span class="o">-</span><span class="n">handler</span><span class="p">,</span><span class="err">$</span><span class="p">{</span><span class="n">EXTEN</span><span class="p">},</span><span class="mi">1</span><span class="p">(</span><span class="n">args</span><span class="p">))</span>
<span class="n">same</span> <span class="o">=&gt;</span> <span class="n">n</span><span class="p">,</span><span class="n">Gosub</span><span class="p">(</span><span class="n">monkeys</span><span class="p">,</span><span class="err">$</span><span class="p">{</span><span class="n">EXTEN</span><span class="p">},</span><span class="mi">1</span><span class="p">)</span>

<span class="p">[</span><span class="n">monkeys</span><span class="p">]</span>
<span class="n">exten</span> <span class="o">=&gt;</span> <span class="n">_X</span><span class="p">.,</span><span class="mi">1</span><span class="p">,</span><span class="n">Noop</span><span class="p">(</span><span class="n">Subroutine</span> <span class="n">Monkeys</span><span class="p">)</span>
<span class="n">same</span> <span class="o">=&gt;</span> <span class="n">n</span><span class="p">,</span><span class="n">While</span><span class="p">(</span><span class="mi">1</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span>
<span class="n">same</span> <span class="o">=&gt;</span> <span class="n">n</span><span class="p">,</span><span class="n">Playback</span><span class="p">(</span><span class="n">tt</span><span class="o">-</span><span class="n">monkeys</span><span class="p">)</span>
<span class="n">same</span> <span class="o">=&gt;</span> <span class="n">n</span><span class="p">,</span><span class="n">EndWhile</span><span class="p">()</span>

<span class="p">[</span><span class="n">hangup</span><span class="o">-</span><span class="n">handler</span><span class="p">]</span>
<span class="n">exten</span> <span class="o">=&gt;</span> <span class="n">_X</span><span class="p">.,</span><span class="mi">1</span><span class="p">,</span><span class="n">Noop</span><span class="p">(</span><span class="s">&quot;Hangup into the handler&quot;</span><span class="p">)</span>
</pre></div>
<div class="highlight"><pre><span></span><span class="o">--</span> <span class="n">Executing</span> <span class="p">[</span><span class="mi">100</span><span class="err">@</span><span class="n">from</span><span class="o">-</span><span class="n">outside</span><span class="o">-</span><span class="nl">hangup</span><span class="p">:</span><span class="mi">1</span><span class="p">]</span> <span class="n">NoOp</span><span class="p">(</span><span class="s">&quot;SIP/eloy-00000006&quot;</span><span class="p">,</span> <span class="s">&quot;Call from outside from eloy&quot;</span><span class="p">)</span> <span class="n">in</span> <span class="n">new</span> <span class="n">stack</span>
<span class="o">--</span> <span class="n">Executing</span> <span class="p">[</span><span class="mi">100</span><span class="err">@</span><span class="n">from</span><span class="o">-</span><span class="n">outside</span><span class="o">-</span><span class="nl">hangup</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span> <span class="n">Set</span><span class="p">(</span><span class="s">&quot;SIP/eloy-00000006&quot;</span><span class="p">,</span> <span class="s">&quot;CHANNEL(hangup_handler_push)=hangup-handler,100,1&quot;</span><span class="p">)</span> <span class="n">in</span> <span class="n">new</span> <span class="n">stack</span>
<span class="o">--</span> <span class="n">Executing</span> <span class="p">[</span><span class="mi">100</span><span class="err">@</span><span class="n">from</span><span class="o">-</span><span class="n">outside</span><span class="o">-</span><span class="nl">hangup</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span> <span class="n">Gosub</span><span class="p">(</span><span class="s">&quot;SIP/eloy-00000006&quot;</span><span class="p">,</span> <span class="s">&quot;monkeys,100,1&quot;</span><span class="p">)</span> <span class="n">in</span> <span class="n">new</span> <span class="n">stack</span>
<span class="o">--</span> <span class="n">Executing</span> <span class="p">[</span><span class="mi">100</span><span class="err">@</span><span class="nl">monkeys</span><span class="p">:</span><span class="mi">1</span><span class="p">]</span> <span class="n">NoOp</span><span class="p">(</span><span class="s">&quot;SIP/eloy-00000006&quot;</span><span class="p">,</span> <span class="s">&quot;Subroutine Monkeys&quot;</span><span class="p">)</span> <span class="n">in</span> <span class="n">new</span> <span class="n">stack</span>
<span class="o">--</span> <span class="n">Executing</span> <span class="p">[</span><span class="mi">100</span><span class="err">@</span><span class="nl">monkeys</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span> <span class="n">While</span><span class="p">(</span><span class="s">&quot;SIP/eloy-00000006&quot;</span><span class="p">,</span> <span class="s">&quot;1&gt;0&quot;</span><span class="p">)</span> <span class="n">in</span> <span class="n">new</span> <span class="n">stack</span>
<span class="o">--</span> <span class="n">Executing</span> <span class="p">[</span><span class="mi">100</span><span class="err">@</span><span class="nl">monkeys</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span> <span class="n">Playback</span><span class="p">(</span><span class="s">&quot;SIP/eloy-00000006&quot;</span><span class="p">,</span> <span class="s">&quot;tt-monkeys&quot;</span><span class="p">)</span> <span class="n">in</span> <span class="n">new</span> <span class="n">stack</span>
<span class="o">--</span> <span class="o">&lt;</span><span class="n">SIP</span><span class="o">/</span><span class="n">eloy</span><span class="o">-</span><span class="mo">00000006</span><span class="o">&gt;</span> <span class="n">Playing</span> <span class="err">&#39;</span><span class="n">tt</span><span class="o">-</span><span class="n">monkeys</span><span class="p">.</span><span class="n">gsm</span><span class="err">&#39;</span> <span class="p">(</span><span class="n">language</span> <span class="err">&#39;</span><span class="n">en</span><span class="err">&#39;</span><span class="p">)</span>
<span class="o">==</span> <span class="n">Spawn</span> <span class="n">extension</span> <span class="p">(</span><span class="n">monkeys</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="n">exited</span> <span class="n">non</span><span class="o">-</span><span class="n">zero</span> <span class="n">on</span> <span class="err">&#39;</span><span class="n">SIP</span><span class="o">/</span><span class="n">eloy</span><span class="o">-</span><span class="mo">00000006</span><span class="err">&#39;</span>
<span class="o">--</span> <span class="n">SIP</span><span class="o">/</span><span class="n">eloy</span><span class="o">-</span><span class="mo">00000006</span> <span class="n">Internal</span> <span class="n">Gosub</span><span class="p">(</span><span class="n">hangup</span><span class="o">-</span><span class="n">handler</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="n">start</span>
<span class="o">--</span> <span class="n">Executing</span> <span class="p">[</span><span class="mi">100</span><span class="err">@</span><span class="n">hangup</span><span class="o">-</span><span class="nl">handler</span><span class="p">:</span><span class="mi">1</span><span class="p">]</span> <span class="n">NoOp</span><span class="p">(</span><span class="s">&quot;SIP/eloy-00000006&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="n">Hangup</span> <span class="n">into</span> <span class="n">the</span> <span class="n">handler</span><span class="s">&quot;&quot;</span><span class="p">)</span> <span class="n">in</span> <span class="n">new</span> <span class="n">stack</span>
<span class="o">--</span> <span class="n">Executing</span> <span class="p">[</span><span class="mi">100</span><span class="err">@</span><span class="n">hangup</span><span class="o">-</span><span class="nl">handler</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span> <span class="n">Return</span><span class="p">(</span><span class="s">&quot;SIP/eloy-00000006&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span> <span class="n">in</span> <span class="n">new</span> <span class="n">stack</span>
<span class="o">==</span> <span class="n">Spawn</span> <span class="n">extension</span> <span class="p">(</span><span class="n">monkeys</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="n">exited</span> <span class="n">non</span><span class="o">-</span><span class="n">zero</span> <span class="n">on</span> <span class="err">&#39;</span><span class="n">SIP</span><span class="o">/</span><span class="n">eloy</span><span class="o">-</span><span class="mo">00000006</span><span class="err">&#39;</span>
<span class="o">--</span> <span class="n">SIP</span><span class="o">/</span><span class="n">eloy</span><span class="o">-</span><span class="mo">00000006</span> <span class="n">Internal</span> <span class="n">Gosub</span><span class="p">(</span><span class="n">hangup</span><span class="o">-</span><span class="n">handler</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="n">complete</span> <span class="n">GOSUB_RETVAL</span><span class="o">=</span>
</pre></div>
<p>You can check the docs into the <a class="reference external" href="https://wiki.asterisk.org/wiki/display/AST/Hangup+Handlers">Aserisk wiki</a>, more functions are available (push, pop, wipe). In the CLI you can check the hangup handlers with this command <strong>core show hanguphandlers &lt;chan&gt;</strong></p>
<p>Happy coding!</p>

            </section>

            <section class="post-info">
                <div class="post-share">
                    <a class="twitter" href="https://twitter.com/share?text=Asterisk 11 hangups handlers&amp;url=https://acalustra.com/asterisk-11-hangups-handlers.html" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <i class="ic ic-twitter"></i><span class="hidden">Twitter</span>
                    </a>
                    <a class="facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://acalustra.com/asterisk-11-hangups-handlers.html" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <i class="ic ic-facebook"></i><span class="hidden">Facebook</span>
                    </a>
                    <a class="googleplus" href="https://plus.google.com/share?url=https://acalustra.com/asterisk-11-hangups-handlers.html" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <i class="ic ic-googleplus"></i><span class="hidden">Google+</span>
                    </a>
                    <div class="clear"></div>
                </div>

                <aside class="post-tags">
<a href="https://acalustra.com/tag/asterisk.html">asterisk</a><a href="https://acalustra.com/tag/dialplan.html">dialplan</a><a href="https://acalustra.com/tag/ari.html">ari</a><a href="https://acalustra.com/tag/hangup.html">hangup</a>                </aside>

                <div class="clear"></div>

                <aside class="post-author">


                        <figure class="post-author-avatar">
                            <img src="https://acalustra.com/img/profile.jpg" alt="Eloy Coto" />
                        </figure>
                    <div class="post-author-bio">
                        <h4 class="post-author-name"><a href="https://acalustra.com/author/eloycoto.html">Eloy Coto</a></h4>
                            <p class="post-author-about">Senior software engineer with experience in Golang, C and Python and CI/CD</p>
                            <span class="post-author-location"><i class="ic ic-location"></i> Galicia</span>
                            <span class="post-author-website"><a href="http://acalustra.com"><i class="ic ic-link"></i> Website</a></span>
                        <!-- Social linkes in alphabet order. -->
                            <span class="post-author-github"><a target="_blank" href="https://github.com/eloycoto"><i class="ic ic-link"></i> GitHub</a></span>
                            <span class="post-author-linkedin"><a target="_blank" href="https://www.linkedin.com/in/eloycoto"><i class="ic ic-link"></i> LinkedIn</a></span>
                            <span class="post-author-twitter"><a target="_blank" href="https://twitter.com/eloycoto"><i class="ic ic-twitter"></i> Twitter</a></span>
                    </div>
                    <div class="clear"></div>
                </aside>

                </section>

                <script type="text/javascript">
                    var disqus = 'acalustra';
                    var disqus_shortname = 'acalustra';
                    var disqus_identifier = '/asterisk-11-hangups-handlers.html';
                    var disqus_url = 'https://acalustra.com/asterisk-11-hangups-handlers.html';
                </script>
                <noscript>Please enable JavaScript to view the comments.</noscript>
                <section class="post-comments">
                        <a id="show-disqus" class="post-comments-activate" data-disqus-identifier="/asterisk-11-hangups-handlers.html" >Show Comments</a>
                    <div id="disqus_thread"></div>
                </section>

                <aside class="post-nav">
                    <div class="clear"></div>
                </aside>

            </div>
        </article>
    </main>
      <!-- TODO : Body class -->
    <div id="body-class" style="display: none;" class=""></div>

    <footer id="footer">
      <div class="inner">
        <section class="credits">


          <span class="credits-theme">Theme <a href="https://github.com/arulrajnet/attila" rel="nofollow">Attila</a></span>
          <span class="credits-software">Published with <a href="https://github.com/getpelican/pelican" rel="nofollow">Pelican</a></span>
        </section>
      </div>
    </footer>
  </section>

  <script type="text/javascript" src="https://acalustra.com/theme/js/script.js"></script>

    <!-- Global Site Tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-36310774-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-36310774-1', { 'anonymize_ip': true });
    </script>
<script type="text/javascript">
    var disqus_shortname = 'acalustra';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>